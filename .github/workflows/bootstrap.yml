name: Bootstrap Workflow

env:
  TOOLS_BRANCH: dev

on:
  workflow_dispatch:
  pull_request:
    types: [opened, closed, synchronize]
  push:

jobs:
  read_type:
    outputs:
      primaryLanguage: ${{ steps.read.outputs.primary_language }}
    runs-on: ubuntu-latest
    name: Detect Primary Language
    steps:
      - name: Read primary language
        id: read
        uses: fiddlermikey/action-get-primary-language@v1.0
        with:
          token: ${{ secrets.GH_PAT}}
      - name: Display type
        id: display
        run: |
          echo ${{ steps.read.outputs.primary_language}} | tee -a $GITHUB_STEP_SUMMARY

  verbose-output:
    runs-on: ubuntu-latest
    needs: read_type
    name: Verbose Output
    steps:
    - name: verbose-output
      run: |
        echo ${{ needs.read_type.outputs.primaryLanguage }}
  call-starter-workflow:
    uses: fiddlermikey/actions/.github/workflows/starter.yml@dev


