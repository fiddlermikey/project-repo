name: Bootstrap Workflow

env:
  TOOLS_BRANCH: dev

on:
  workflow_dispatch:
  pull_request:
    types: [opened, closed, synchronize]
  push:

jobs:
  read_type:
    outputs:
      primaryLanguage: ${{ steps.read.outputs.primary_language }}
    runs-on: ubuntu-latest
    name: Detect Primary Language
    steps:
      #- name: Checkout
      #  uses: actions/checkout@v4
      #  with:
      #    token: ${{ secrets.SDK_SYNC_PAT}}
      - name: Read primary language
        id: read
        uses: fiddlermikey/action-get-primary-language@v1
        with:
          token: ${{ secrets.SDK_SYNC_PAT}}
      - name: Display type
        id: display
        run: |
          echo ${{ steps.read.outputs.primary_language}} | tee -a $GITHUB_STEP_SUMMARY

  call-starter-workflow:
    uses: fiddlermikey/actions/.github/workflows/starter.yml@dev
    #with: 
    #  buildtype: ${{ needs.call-assign-from-json-workflow.outputs.name }}
    #  release_dir: ${{ needs.call-assign-from-json-workflow.outputs.release_dir }}
    #  update_catalog: false


